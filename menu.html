<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0e14">
    <title>Training Hub - Menu Principal</title>
    <link rel="manifest" href="manifest.json">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0a0e14 0%, #141821 100%);
            color: #e6edf3;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 500px;
        }

        .header {
            text-align: center;
            margin-bottom: 32px;
        }

        .header h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            font-size: 14px;
            color: #8b949e;
            margin-bottom: 16px;
        }

        .date-info {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 16px;
            padding: 16px;
            background: rgba(26, 31, 46, 0.6);
            border-radius: 12px;
            border: 1px solid #21262d;
        }

        .date-item {
            text-align: center;
        }

        .date-label {
            font-size: 11px;
            color: #6e7681;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .date-value {
            font-size: 18px;
            font-weight: 700;
            color: #00ff88;
            margin-top: 4px;
        }

        .dashboard-card {
            display: block;
            padding: 24px;
            margin-bottom: 16px;
            border-radius: 16px;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .dashboard-card:active {
            transform: scale(0.98);
        }

        .dashboard-card.hyrox {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(0, 212, 255, 0.05) 100%);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .dashboard-card.hyrox::before {
            background: radial-gradient(circle at center, rgba(0, 212, 255, 0.2), transparent);
        }

        .dashboard-card.nutrition {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 255, 136, 0.05) 100%);
            border-color: rgba(0, 255, 136, 0.3);
        }

        .dashboard-card.nutrition::before {
            background: radial-gradient(circle at center, rgba(0, 255, 136, 0.2), transparent);
        }

        .dashboard-card:active::before {
            opacity: 1;
        }

        .card-icon {
            font-size: 48px;
            margin-bottom: 16px;
            display: block;
        }

        .card-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #e6edf3;
        }

        .card-description {
            font-size: 14px;
            color: #8b949e;
            line-height: 1.6;
        }

        .objectives {
            margin-top: 32px;
            padding: 20px;
            background: rgba(26, 31, 46, 0.6);
            border-radius: 16px;
            border: 1px solid #21262d;
        }

        .objectives-title {
            font-size: 16px;
            font-weight: 600;
            color: #00ff88;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .objective-item {
            padding: 12px;
            background: #141821;
            border-radius: 8px;
            margin-bottom: 8px;
            border-left: 3px solid #00d4ff;
        }

        .objective-date {
            font-size: 11px;
            color: #6e7681;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .objective-name {
            font-size: 14px;
            font-weight: 600;
            color: #e6edf3;
            margin-top: 4px;
        }

        .protocol-summary {
            margin-top: 16px;
            padding: 16px;
            background: rgba(255, 107, 157, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 107, 157, 0.2);
        }

        .protocol-title {
            font-size: 13px;
            font-weight: 600;
            color: #ff6b9d;
            margin-bottom: 8px;
        }

        .protocol-text {
            font-size: 12px;
            color: #8b949e;
            line-height: 1.6;
        }

        .footer {
            text-align: center;
            margin-top: 32px;
            font-size: 11px;
            color: #6e7681;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üèãÔ∏è Training Hub</h1>
            <div class="subtitle">Pr√©paration Hyrox Pro 2026</div>
            
            <div class="date-info">
                <div class="date-item">
                    <div class="date-label">Aujourd'hui</div>
                    <div class="date-value" id="current-date">--</div>
                </div>
                <div class="date-item">
                    <div class="date-label">Semaine</div>
                    <div class="date-value" id="current-week">--/13</div>
                </div>
                <div class="date-item">
                    <div class="date-label">J-</div>
                    <div class="date-value" id="days-left">--</div>
                </div>
            </div>
        </div>

        <!-- Dashboard Cards -->
        <a href="index.html" class="dashboard-card hyrox">
            <span class="card-icon">üí™</span>
            <div class="card-title">Hyrox Training</div>
            <div class="card-description">
                Programme 13 semaines ‚Ä¢ Upper/Lower ‚Ä¢ Stations Hyrox<br>
                Focus: Wall Balls, Sled, Lunges, BBJ
            </div>
        </a>

        <a href="nutrition.html" class="dashboard-card nutrition">
            <span class="card-icon">ü•ó</span>
            <div class="card-title">Nutrition Dashboard</div>
            <div class="card-description">
                170g prot√©ines quotidien ‚Ä¢ 3150-3750 kcal selon charge<br>
                Protocole valid√© 6 janvier 2026
            </div>
        </a>

        <!-- Objectives -->
        <div class="objectives">
            <div class="objectives-title">üéØ Objectifs 2026</div>
            
            <div class="objective-item">
                <div class="objective-date">22 Mars 2026</div>
                <div class="objective-name">Hyrox Pro Toulouse</div>
            </div>

            <div class="objective-item" style="border-left-color: #00ff88;">
                <div class="objective-date">5-6 Juin 2026</div>
                <div class="objective-name">Montanaspe Trail - 61km / 4096m D+</div>
            </div>

            <!-- Protocol Summary -->
            <div class="protocol-summary">
                <div class="protocol-title">üìã Protocole Nutrition Actuel</div>
                <div class="protocol-text">
                    <strong>170P</strong> quotidien ‚Ä¢ <strong>485-563G</strong> selon charge ‚Ä¢ <strong>92-103L</strong><br>
                    Sources: Lentilles 160g (38g) ‚Ä¢ Cr√™pes 27g ‚Ä¢ Laitages 28g ‚Ä¢ Reste 77g
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Training Hub v2.0 ‚Ä¢ Mis √† jour 6 janvier 2026</p>
        </div>
    </div>

    <script>
        // Calcul date, semaine et jours restants
        function updateDateInfo() {
            const today = new Date();
            const startDate = new Date('2024-12-23'); // Semaine 1 d√©but
            const raceDate = new Date('2026-03-22'); // Hyrox Pro
            
            // Format date fran√ßaise
            const options = { day: 'numeric', month: 'short' };
            const dateStr = today.toLocaleDateString('fr-FR', options);
            document.getElementById('current-date').textContent = dateStr;
            
            // Calcul semaine
            const diffTime = today - startDate;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            const weekNum = Math.floor(diffDays / 7) + 1;
            const displayWeek = Math.max(1, Math.min(13, weekNum));
            document.getElementById('current-week').textContent = `${displayWeek}/13`;
            
            // Jours restants avant Hyrox
            const daysLeft = Math.ceil((raceDate - today) / (1000 * 60 * 60 * 24));
            document.getElementById('days-left').textContent = daysLeft > 0 ? daysLeft : '0';
        }

        // Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .catch(err => console.log('SW error:', err));
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            updateDateInfo();
            
            // Animation
            const cards = document.querySelectorAll('.dashboard-card, .objectives');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.6s, transform 0.6s';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 150);
            });
        });

        // Vibration
        document.querySelectorAll('.dashboard-card').forEach(card => {
            card.addEventListener('click', () => {
                if ('vibrate' in navigator) {
                    navigator.vibrate(10);
                }
            });
        });
    </script>
</body>
</html>
